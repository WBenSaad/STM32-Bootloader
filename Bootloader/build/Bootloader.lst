ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"Bootloader.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.memory_erase,"ax",%progbits
  16              		.align	1
  17              		.global	memory_erase
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	memory_erase:
  25              	.LFB65:
  26              		.file 1 "Core/Src/Bootloader.c"
   1:Core/Src/Bootloader.c **** /* Includes ------------------------------------------------------------------*/
   2:Core/Src/Bootloader.c **** #include "main.h"
   3:Core/Src/Bootloader.c **** #include "crc.h"
   4:Core/Src/Bootloader.c **** #include "tim.h"
   5:Core/Src/Bootloader.c **** #include "usart.h"
   6:Core/Src/Bootloader.c **** #include "gpio.h"
   7:Core/Src/Bootloader.c **** 
   8:Core/Src/Bootloader.c **** /* Private typedef -----------------------------------------------------------*/
   9:Core/Src/Bootloader.c **** typedef   void (*pFunction) (void);
  10:Core/Src/Bootloader.c **** 
  11:Core/Src/Bootloader.c **** /* Private define ------------------------------------------------------------*/
  12:Core/Src/Bootloader.c **** #define 	App_Adress			  0x8004000UL
  13:Core/Src/Bootloader.c **** #define	  Reset_Handler			(App_Adress + 4)
  14:Core/Src/Bootloader.c **** 
  15:Core/Src/Bootloader.c **** #define   APP_END           (uint8_t*) 0x8011FFBUL                  //App end address
  16:Core/Src/Bootloader.c **** #define   ROM_LEN						(uint32_t) (APP_END - App_Adress +1u )  //APP size on flash
  17:Core/Src/Bootloader.c **** #define   ROM_LEN_WORD			(uint32_t) (ROM_LEN / 4u)               //CRC Calculation process 4bytes p
  18:Core/Src/Bootloader.c ****                                                                     //so we get how much Words ther
  19:Core/Src/Bootloader.c **** 
  20:Core/Src/Bootloader.c **** #define   ExpectedCRCValue  *(uint32_t *) 0x08011FFCUL //Where we store the postBuild generated Che
  21:Core/Src/Bootloader.c **** 
  22:Core/Src/Bootloader.c **** #define Max_Buffer_Size		300 
  23:Core/Src/Bootloader.c **** 
  24:Core/Src/Bootloader.c ****  __attribute__((section(".noinit"))) volatile uint32_t test ; //Shared Memory between APP and Bootl
  25:Core/Src/Bootloader.c **** 
  26:Core/Src/Bootloader.c **** /* Private variables ---------------------------------------------------------*/
  27:Core/Src/Bootloader.c **** volatile uint32_t CRCValue = 0;
  28:Core/Src/Bootloader.c **** uint32_t buffer2[Max_Buffer_Size] ;
  29:Core/Src/Bootloader.c **** uint32_t buffer[Max_Buffer_Size];
  30:Core/Src/Bootloader.c **** 
  31:Core/Src/Bootloader.c **** /* Private function prototypes -----------------------------------------------*/
  32:Core/Src/Bootloader.c **** void JumpToMain(void);
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 2


  33:Core/Src/Bootloader.c **** void Bootloader_flash(uint32_t* buffer);
  34:Core/Src/Bootloader.c **** void memory_erase(void);
  35:Core/Src/Bootloader.c **** void SystemClock_Config(void);
  36:Core/Src/Bootloader.c **** /* USER CODE BEGIN PFP */
  37:Core/Src/Bootloader.c **** 
  38:Core/Src/Bootloader.c **** void memory_erase(void){
  27              		.loc 1 38 24 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 00B5     		push	{lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 14, -4
  35 0002 83B0     		sub	sp, sp, #12
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 16
  39:Core/Src/Bootloader.c **** 	
  40:Core/Src/Bootloader.c ****   HAL_FLASH_Unlock();
  38              		.loc 1 40 3 view .LVU1
  39 0004 FFF7FEFF 		bl	HAL_FLASH_Unlock
  40              	.LVL0:
  41:Core/Src/Bootloader.c ****   uint32_t PAGEError;
  41              		.loc 1 41 3 view .LVU2
  42:Core/Src/Bootloader.c **** 	static FLASH_EraseInitTypeDef EraseInitStruct;
  42              		.loc 1 42 2 view .LVU3
  43:Core/Src/Bootloader.c **** 	EraseInitStruct.TypeErase   = FLASH_TYPEERASE_PAGES;
  43              		.loc 1 43 2 view .LVU4
  44              		.loc 1 43 30 is_stmt 0 view .LVU5
  45 0008 0748     		ldr	r0, .L3
  46 000a 0023     		movs	r3, #0
  47 000c 0360     		str	r3, [r0]
  44:Core/Src/Bootloader.c **** 	EraseInitStruct.PageAddress = App_Adress  ;
  48              		.loc 1 44 2 is_stmt 1 view .LVU6
  49              		.loc 1 44 30 is_stmt 0 view .LVU7
  50 000e 074B     		ldr	r3, .L3+4
  51 0010 8360     		str	r3, [r0, #8]
  45:Core/Src/Bootloader.c **** 	EraseInitStruct.NbPages     = 55 ;
  52              		.loc 1 45 2 is_stmt 1 view .LVU8
  53              		.loc 1 45 30 is_stmt 0 view .LVU9
  54 0012 3723     		movs	r3, #55
  55 0014 C360     		str	r3, [r0, #12]
  46:Core/Src/Bootloader.c **** 	
  47:Core/Src/Bootloader.c **** 	HAL_FLASHEx_Erase(&EraseInitStruct,&PAGEError);
  56              		.loc 1 47 2 is_stmt 1 view .LVU10
  57 0016 01A9     		add	r1, sp, #4
  58 0018 FFF7FEFF 		bl	HAL_FLASHEx_Erase
  59              	.LVL1:
  48:Core/Src/Bootloader.c **** 
  49:Core/Src/Bootloader.c ****   HAL_FLASH_Lock();
  60              		.loc 1 49 3 view .LVU11
  61 001c FFF7FEFF 		bl	HAL_FLASH_Lock
  62              	.LVL2:
  50:Core/Src/Bootloader.c **** 	
  51:Core/Src/Bootloader.c **** }
  63              		.loc 1 51 1 is_stmt 0 view .LVU12
  64 0020 03B0     		add	sp, sp, #12
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 3


  65              	.LCFI2:
  66              		.cfi_def_cfa_offset 4
  67              		@ sp needed
  68 0022 5DF804FB 		ldr	pc, [sp], #4
  69              	.L4:
  70 0026 00BF     		.align	2
  71              	.L3:
  72 0028 00000000 		.word	.LANCHOR0
  73 002c 00400008 		.word	134234112
  74              		.cfi_endproc
  75              	.LFE65:
  77              		.section	.rodata.Bootloader_flash.str1.4,"aMS",%progbits,1
  78              		.align	2
  79              	.LC0:
  80 0000 3000     		.ascii	"0\000"
  81 0002 0000     		.align	2
  82              	.LC1:
  83 0004 3100     		.ascii	"1\000"
  84              		.section	.text.Bootloader_flash,"ax",%progbits
  85              		.align	1
  86              		.global	Bootloader_flash
  87              		.syntax unified
  88              		.thumb
  89              		.thumb_func
  90              		.fpu softvfp
  92              	Bootloader_flash:
  93              	.LVL3:
  94              	.LFB66:
  52:Core/Src/Bootloader.c **** 
  53:Core/Src/Bootloader.c **** void Bootloader_flash(uint32_t* buffer){
  95              		.loc 1 53 40 is_stmt 1 view -0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  99              		.loc 1 53 40 is_stmt 0 view .LVU14
 100 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 101              	.LCFI3:
 102              		.cfi_def_cfa_offset 32
 103              		.cfi_offset 3, -32
 104              		.cfi_offset 4, -28
 105              		.cfi_offset 5, -24
 106              		.cfi_offset 6, -20
 107              		.cfi_offset 7, -16
 108              		.cfi_offset 8, -12
 109              		.cfi_offset 9, -8
 110              		.cfi_offset 14, -4
 111 0004 0446     		mov	r4, r0
  54:Core/Src/Bootloader.c ****     static uint32_t mem_address = App_Adress;
 112              		.loc 1 54 5 is_stmt 1 view .LVU15
  55:Core/Src/Bootloader.c **** 		
  56:Core/Src/Bootloader.c **** 		int remaining=0;
 113              		.loc 1 56 3 view .LVU16
 114              	.LVL4:
  57:Core/Src/Bootloader.c **** 		
  58:Core/Src/Bootloader.c ****     //First Receive the Packet Length
  59:Core/Src/Bootloader.c **** 		HAL_UART_Receive(&huart1,(uint8_t*)&buffer[0],1,HAL_MAX_DELAY);
 115              		.loc 1 59 3 view .LVU17
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 4


 116 0006 2D4E     		ldr	r6, .L11
 117 0008 4FF0FF33 		mov	r3, #-1
 118 000c 0122     		movs	r2, #1
 119 000e 0146     		mov	r1, r0
 120 0010 3046     		mov	r0, r6
 121              	.LVL5:
 122              		.loc 1 59 3 is_stmt 0 view .LVU18
 123 0012 FFF7FEFF 		bl	HAL_UART_Receive
 124              	.LVL6:
  60:Core/Src/Bootloader.c **** 		uint8_t packet_length=*(uint8_t *)&buffer[0];
 125              		.loc 1 60 3 is_stmt 1 view .LVU19
 126              		.loc 1 60 11 is_stmt 0 view .LVU20
 127 0016 2478     		ldrb	r4, [r4]	@ zero_extendqisi2
 128              	.LVL7:
  61:Core/Src/Bootloader.c ****     
  62:Core/Src/Bootloader.c ****     //Now receive the entire Packet
  63:Core/Src/Bootloader.c **** 		HAL_UART_Receive(&huart1,(uint8_t*)buffer2,packet_length,HAL_MAX_DELAY);
 129              		.loc 1 63 3 is_stmt 1 view .LVU21
 130 0018 A7B2     		uxth	r7, r4
 131 001a 294D     		ldr	r5, .L11+4
 132 001c 4FF0FF33 		mov	r3, #-1
 133 0020 3A46     		mov	r2, r7
 134 0022 2946     		mov	r1, r5
 135 0024 3046     		mov	r0, r6
 136 0026 FFF7FEFF 		bl	HAL_UART_Receive
 137              	.LVL8:
  64:Core/Src/Bootloader.c **** 		
  65:Core/Src/Bootloader.c ****     
  66:Core/Src/Bootloader.c ****     uint8_t payload_length= (packet_length - 4) ;			//Basically Data length is size of Packet recei
 138              		.loc 1 66 5 view .LVU22
 139              		.loc 1 66 13 is_stmt 0 view .LVU23
 140 002a 043C     		subs	r4, r4, #4
 141              	.LVL9:
 142              		.loc 1 66 13 view .LVU24
 143 002c 5FFA84F8 		uxtb	r8, r4
 144              	.LVL10:
  67:Core/Src/Bootloader.c **** 	  uint32_t packet_CRC =*(uint32_t*)(&buffer2[( payload_length / 4 )]);//CRC is the last Word on ou
 145              		.loc 1 67 4 is_stmt 1 view .LVU25
 146              		.loc 1 67 64 is_stmt 0 view .LVU26
 147 0030 C4F38504 		ubfx	r4, r4, #2, #6
 148              	.LVL11:
 149              		.loc 1 67 13 view .LVU27
 150 0034 55F82460 		ldr	r6, [r5, r4, lsl #2]
 151              	.LVL12:
  68:Core/Src/Bootloader.c **** 		
  69:Core/Src/Bootloader.c **** 		//
  70:Core/Src/Bootloader.c **** 		uint32_t CRCValue=HAL_CRC_Calculate(&hcrc,(uint32_t*)buffer2 ,(payload_length / 4));
 152              		.loc 1 70 3 is_stmt 1 view .LVU28
 153              		.loc 1 70 21 is_stmt 0 view .LVU29
 154 0038 2246     		mov	r2, r4
 155 003a 2946     		mov	r1, r5
 156 003c 2148     		ldr	r0, .L11+8
 157 003e FFF7FEFF 		bl	HAL_CRC_Calculate
 158              	.LVL13:
  71:Core/Src/Bootloader.c **** 
  72:Core/Src/Bootloader.c **** 		// We calulate the CRC of the received Packet before flashing it and if doesnt match 
  73:Core/Src/Bootloader.c ****     // the Checksum we have ,we request a resend from the HOST on the PC
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 5


  74:Core/Src/Bootloader.c **** 		while(CRCValue!=packet_CRC){
 159              		.loc 1 74 3 is_stmt 1 view .LVU30
 160              		.loc 1 74 8 is_stmt 0 view .LVU31
 161 0042 15E0     		b	.L6
 162              	.L7:
  75:Core/Src/Bootloader.c **** 			
  76:Core/Src/Bootloader.c **** 			HAL_UART_Transmit(&huart1,(uint8_t*)"0",1,HAL_MAX_DELAY);
 163              		.loc 1 76 4 is_stmt 1 view .LVU32
 164 0044 DFF87490 		ldr	r9, .L11
 165 0048 4FF0FF33 		mov	r3, #-1
 166 004c 0122     		movs	r2, #1
 167 004e 1E49     		ldr	r1, .L11+12
 168 0050 4846     		mov	r0, r9
 169              	.LVL14:
 170              		.loc 1 76 4 is_stmt 0 view .LVU33
 171 0052 FFF7FEFF 		bl	HAL_UART_Transmit
 172              	.LVL15:
  77:Core/Src/Bootloader.c **** 			HAL_UART_Receive(&huart1,(uint8_t*)buffer2,packet_length,HAL_MAX_DELAY);
 173              		.loc 1 77 4 is_stmt 1 view .LVU34
 174 0056 1A4D     		ldr	r5, .L11+4
 175 0058 4FF0FF33 		mov	r3, #-1
 176 005c 3A46     		mov	r2, r7
 177 005e 2946     		mov	r1, r5
 178 0060 4846     		mov	r0, r9
 179 0062 FFF7FEFF 		bl	HAL_UART_Receive
 180              	.LVL16:
  78:Core/Src/Bootloader.c **** 			CRCValue=HAL_CRC_Calculate(&hcrc,(uint32_t*)buffer2,(payload_length / 4));
 181              		.loc 1 78 4 view .LVU35
 182              		.loc 1 78 13 is_stmt 0 view .LVU36
 183 0066 2246     		mov	r2, r4
 184 0068 2946     		mov	r1, r5
 185 006a 1648     		ldr	r0, .L11+8
 186 006c FFF7FEFF 		bl	HAL_CRC_Calculate
 187              	.LVL17:
 188              	.L6:
  74:Core/Src/Bootloader.c **** 			
 189              		.loc 1 74 8 is_stmt 1 view .LVU37
 190 0070 B042     		cmp	r0, r6
 191 0072 E7D1     		bne	.L7
  79:Core/Src/Bootloader.c **** 		}
  80:Core/Src/Bootloader.c **** 			HAL_UART_Transmit(&huart1,(uint8_t*)"1",1,HAL_MAX_DELAY);
 192              		.loc 1 80 4 view .LVU38
 193 0074 4FF0FF33 		mov	r3, #-1
 194 0078 0122     		movs	r2, #1
 195 007a 1449     		ldr	r1, .L11+16
 196 007c 0F48     		ldr	r0, .L11
 197              	.LVL18:
 198              		.loc 1 80 4 is_stmt 0 view .LVU39
 199 007e FFF7FEFF 		bl	HAL_UART_Transmit
 200              	.LVL19:
  81:Core/Src/Bootloader.c **** 		
  82:Core/Src/Bootloader.c **** 			HAL_FLASH_Unlock();
 201              		.loc 1 82 4 is_stmt 1 view .LVU40
 202 0082 FFF7FEFF 		bl	HAL_FLASH_Unlock
 203              	.LVL20:
  83:Core/Src/Bootloader.c **** 			
  84:Core/Src/Bootloader.c **** 		// We got the number of words that forms our payload because we will Flash a Word at a time	
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 6


  85:Core/Src/Bootloader.c **** 			int numofwords = (payload_length/4)+((payload_length % 4)!=0);
 204              		.loc 1 85 4 view .LVU41
 205              		.loc 1 85 61 is_stmt 0 view .LVU42
 206 0086 18F00308 		ands	r8, r8, #3
 207              	.LVL21:
 208              		.loc 1 85 61 view .LVU43
 209 008a 18BF     		it	ne
 210 008c 4FF00108 		movne	r8, #1
 211              		.loc 1 85 8 view .LVU44
 212 0090 A044     		add	r8, r8, r4
 213              	.LVL22:
  86:Core/Src/Bootloader.c **** 			
  87:Core/Src/Bootloader.c **** 			while(remaining  < numofwords ){
 214              		.loc 1 87 4 is_stmt 1 view .LVU45
  56:Core/Src/Bootloader.c **** 		
 215              		.loc 1 56 7 is_stmt 0 view .LVU46
 216 0092 0024     		movs	r4, #0
 217              		.loc 1 87 9 view .LVU47
 218 0094 0CE0     		b	.L8
 219              	.LVL23:
 220              	.L9:
  88:Core/Src/Bootloader.c **** 			
  89:Core/Src/Bootloader.c **** 			HAL_FLASH_Program(FLASH_TYPEPROGRAM_WORD,mem_address,buffer2[remaining]);
 221              		.loc 1 89 4 is_stmt 1 view .LVU48
 222 0096 0E4D     		ldr	r5, .L11+20
 223 0098 094B     		ldr	r3, .L11+4
 224 009a 53F82420 		ldr	r2, [r3, r4, lsl #2]
 225 009e 0023     		movs	r3, #0
 226 00a0 2968     		ldr	r1, [r5]
 227 00a2 0220     		movs	r0, #2
 228 00a4 FFF7FEFF 		bl	HAL_FLASH_Program
 229              	.LVL24:
  90:Core/Src/Bootloader.c **** 			
  91:Core/Src/Bootloader.c **** 				
  92:Core/Src/Bootloader.c **** 				
  93:Core/Src/Bootloader.c **** 			mem_address += 4;
 230              		.loc 1 93 4 view .LVU49
 231              		.loc 1 93 16 is_stmt 0 view .LVU50
 232 00a8 2B68     		ldr	r3, [r5]
 233 00aa 0433     		adds	r3, r3, #4
 234 00ac 2B60     		str	r3, [r5]
  94:Core/Src/Bootloader.c **** 			remaining+=1;
 235              		.loc 1 94 4 is_stmt 1 view .LVU51
 236              		.loc 1 94 13 is_stmt 0 view .LVU52
 237 00ae 0134     		adds	r4, r4, #1
 238              	.LVL25:
 239              	.L8:
  87:Core/Src/Bootloader.c **** 			
 240              		.loc 1 87 9 is_stmt 1 view .LVU53
 241 00b0 4445     		cmp	r4, r8
 242 00b2 F0DB     		blt	.L9
  95:Core/Src/Bootloader.c **** 	}
  96:Core/Src/Bootloader.c **** 			
  97:Core/Src/Bootloader.c **** 		 HAL_FLASH_Lock();
 243              		.loc 1 97 4 view .LVU54
 244 00b4 FFF7FEFF 		bl	HAL_FLASH_Lock
 245              	.LVL26:
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 7


  98:Core/Src/Bootloader.c **** 		
  99:Core/Src/Bootloader.c **** }
 246              		.loc 1 99 1 is_stmt 0 view .LVU55
 247 00b8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 248              	.LVL27:
 249              	.L12:
 250              		.loc 1 99 1 view .LVU56
 251              		.align	2
 252              	.L11:
 253 00bc 00000000 		.word	huart1
 254 00c0 00000000 		.word	.LANCHOR1
 255 00c4 00000000 		.word	hcrc
 256 00c8 00000000 		.word	.LC0
 257 00cc 04000000 		.word	.LC1
 258 00d0 00000000 		.word	.LANCHOR2
 259              		.cfi_endproc
 260              	.LFE66:
 262              		.section	.text.JumpToMain,"ax",%progbits
 263              		.align	1
 264              		.global	JumpToMain
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 268              		.fpu softvfp
 270              	JumpToMain:
 271              	.LFB67:
 100:Core/Src/Bootloader.c **** 
 101:Core/Src/Bootloader.c **** 
 102:Core/Src/Bootloader.c **** /**************************Jump to App implementation ************************************/
 103:Core/Src/Bootloader.c **** 
 104:Core/Src/Bootloader.c **** void JumpToMain(void){
 272              		.loc 1 104 22 is_stmt 1 view -0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 0
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276 0000 70B5     		push	{r4, r5, r6, lr}
 277              	.LCFI4:
 278              		.cfi_def_cfa_offset 16
 279              		.cfi_offset 4, -16
 280              		.cfi_offset 5, -12
 281              		.cfi_offset 6, -8
 282              		.cfi_offset 14, -4
 105:Core/Src/Bootloader.c **** 	
 106:Core/Src/Bootloader.c **** uint32_t reset_Handler =*(volatile uint32_t *)Reset_Handler;
 283              		.loc 1 106 1 view .LVU58
 284              		.loc 1 106 10 is_stmt 0 view .LVU59
 285 0002 0A4C     		ldr	r4, .L15
 286 0004 6568     		ldr	r5, [r4, #4]
 287              	.LVL28:
 107:Core/Src/Bootloader.c **** uint32_t msp_val = *(volatile uint32_t *)App_Adress;
 288              		.loc 1 107 1 is_stmt 1 view .LVU60
 289              		.loc 1 107 10 is_stmt 0 view .LVU61
 290 0006 2668     		ldr	r6, [r4]
 291              	.LVL29:
 108:Core/Src/Bootloader.c **** 
 109:Core/Src/Bootloader.c **** pFunction Jump= (pFunction) reset_Handler;
 292              		.loc 1 109 1 is_stmt 1 view .LVU62
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 8


 110:Core/Src/Bootloader.c **** 
 111:Core/Src/Bootloader.c **** 	  HAL_RCC_DeInit();
 293              		.loc 1 111 4 view .LVU63
 294 0008 FFF7FEFF 		bl	HAL_RCC_DeInit
 295              	.LVL30:
 112:Core/Src/Bootloader.c **** 	  HAL_DeInit();
 296              		.loc 1 112 4 view .LVU64
 297 000c FFF7FEFF 		bl	HAL_DeInit
 298              	.LVL31:
 113:Core/Src/Bootloader.c **** 
 114:Core/Src/Bootloader.c **** 	  SysTick->CTRL = 0;
 299              		.loc 1 114 4 view .LVU65
 300              		.loc 1 114 18 is_stmt 0 view .LVU66
 301 0010 4FF0E023 		mov	r3, #-536813568
 302 0014 0022     		movs	r2, #0
 303 0016 1A61     		str	r2, [r3, #16]
 115:Core/Src/Bootloader.c **** 	  SysTick->LOAD = 0;
 304              		.loc 1 115 4 is_stmt 1 view .LVU67
 305              		.loc 1 115 18 is_stmt 0 view .LVU68
 306 0018 5A61     		str	r2, [r3, #20]
 116:Core/Src/Bootloader.c **** 	  SysTick->VAL = 0;
 307              		.loc 1 116 4 is_stmt 1 view .LVU69
 308              		.loc 1 116 17 is_stmt 0 view .LVU70
 309 001a 9A61     		str	r2, [r3, #24]
 117:Core/Src/Bootloader.c **** 
 118:Core/Src/Bootloader.c **** SCB->VTOR = App_Adress;
 310              		.loc 1 118 1 is_stmt 1 view .LVU71
 311              		.loc 1 118 11 is_stmt 0 view .LVU72
 312 001c 03F55063 		add	r3, r3, #3328
 313 0020 9C60     		str	r4, [r3, #8]
 119:Core/Src/Bootloader.c **** 
 120:Core/Src/Bootloader.c **** 
 121:Core/Src/Bootloader.c **** __set_MSP(msp_val);
 314              		.loc 1 121 1 is_stmt 1 view .LVU73
 315              	.LVL32:
 316              	.LBB6:
 317              	.LBI6:
 318              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 9


  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 10


  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 11


 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 143:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 144:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 145:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 146:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 147:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
 148:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 149:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
 150:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 151:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 152:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 153:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 154:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 155:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 156:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 157:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 158:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 159:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 160:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 161:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 162:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 163:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 164:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 165:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 166:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 167:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 168:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 169:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 170:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 171:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 172:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 173:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 174:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 175:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 176:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 177:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
 178:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 179:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 180:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 181:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 182:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 183:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 184:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 185:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 186:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 187:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 188:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 189:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 190:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 12


 191:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 192:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 193:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 194:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 195:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 196:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 197:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 198:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 199:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 200:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 201:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 202:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 203:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 204:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 205:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 206:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 207:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 208:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 209:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 210:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 211:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 212:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 213:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 214:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 215:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get APSR Register
 216:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the APSR Register.
 217:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               APSR Register value
 218:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 219:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_APSR(void)
 220:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 221:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 222:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 223:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, apsr" : "=r" (result) );
 224:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 225:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 226:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 227:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 228:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 229:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get xPSR Register
 230:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the xPSR Register.
 231:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               xPSR Register value
 232:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 233:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_xPSR(void)
 234:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 235:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 236:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 237:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, xpsr" : "=r" (result) );
 238:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 239:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 240:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 241:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 242:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 243:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer
 244:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Process Stack Pointer (PSP).
 245:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 246:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 247:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PSP(void)
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 13


 248:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 249:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 250:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 251:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp"  : "=r" (result) );
 252:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 253:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 254:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 255:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 256:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 257:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 258:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer (non-secure)
 259:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Process Stack Pointer (PSP) when in secure s
 260:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 261:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 262:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PSP_NS(void)
 263:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 264:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 265:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 266:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp_ns"  : "=r" (result) );
 267:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 268:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 269:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 270:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 271:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 272:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 273:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer
 274:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Process Stack Pointer (PSP).
 275:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 276:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 277:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PSP(uint32_t topOfProcStack)
 278:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 279:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp, %0" : : "r" (topOfProcStack) : );
 280:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 281:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 282:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 283:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 284:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 285:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer (non-secure)
 286:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Process Stack Pointer (PSP) when in secure sta
 287:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 288:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 289:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PSP_NS(uint32_t topOfProcStack)
 290:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 291:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp_ns, %0" : : "r" (topOfProcStack) : );
 292:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 293:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 294:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 295:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 296:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 297:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer
 298:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Main Stack Pointer (MSP).
 299:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 300:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 301:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_MSP(void)
 302:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 303:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 304:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 14


 305:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp" : "=r" (result) );
 306:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 307:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 308:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 309:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 310:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 311:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 312:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer (non-secure)
 313:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Main Stack Pointer (MSP) when in secure stat
 314:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 315:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 316:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_MSP_NS(void)
 317:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 318:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 319:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 320:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp_ns" : "=r" (result) );
 321:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 322:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 323:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 324:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 325:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 326:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 327:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer
 328:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Main Stack Pointer (MSP).
 329:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 330:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 331:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_MSP(uint32_t topOfMainStack)
 319              		.loc 2 331 27 view .LVU74
 320              	.LBB7:
 332:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 333:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp, %0" : : "r" (topOfMainStack) : );
 321              		.loc 2 333 3 view .LVU75
 322              		.syntax unified
 323              	@ 333 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 324 0022 86F30888 		MSR msp, r6
 325              	@ 0 "" 2
 326              	.LVL33:
 327              		.loc 2 333 3 is_stmt 0 view .LVU76
 328              		.thumb
 329              		.syntax unified
 330              	.LBE7:
 331              	.LBE6:
 122:Core/Src/Bootloader.c **** 
 123:Core/Src/Bootloader.c **** Jump();
 332              		.loc 1 123 1 is_stmt 1 view .LVU77
 333 0026 A847     		blx	r5
 334              	.LVL34:
 124:Core/Src/Bootloader.c **** 
 125:Core/Src/Bootloader.c **** }
 335              		.loc 1 125 1 is_stmt 0 view .LVU78
 336 0028 70BD     		pop	{r4, r5, r6, pc}
 337              	.LVL35:
 338              	.L16:
 339              		.loc 1 125 1 view .LVU79
 340 002a 00BF     		.align	2
 341              	.L15:
 342 002c 00400008 		.word	134234112
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 15


 343              		.cfi_endproc
 344              	.LFE67:
 346              		.section	.text.Error_Handler,"ax",%progbits
 347              		.align	1
 348              		.global	Error_Handler
 349              		.syntax unified
 350              		.thumb
 351              		.thumb_func
 352              		.fpu softvfp
 354              	Error_Handler:
 355              	.LFB70:
 126:Core/Src/Bootloader.c **** 
 127:Core/Src/Bootloader.c **** 
 128:Core/Src/Bootloader.c **** /**
 129:Core/Src/Bootloader.c ****   * @brief  The application entry point.
 130:Core/Src/Bootloader.c ****   * @retval int
 131:Core/Src/Bootloader.c ****   */
 132:Core/Src/Bootloader.c **** int main(void)
 133:Core/Src/Bootloader.c **** {
 134:Core/Src/Bootloader.c **** 
 135:Core/Src/Bootloader.c **** 
 136:Core/Src/Bootloader.c ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 137:Core/Src/Bootloader.c ****   HAL_Init();
 138:Core/Src/Bootloader.c **** 
 139:Core/Src/Bootloader.c **** 
 140:Core/Src/Bootloader.c ****   /* Configure the system clock */
 141:Core/Src/Bootloader.c ****   SystemClock_Config();
 142:Core/Src/Bootloader.c **** 
 143:Core/Src/Bootloader.c ****   /* Initialize all configured peripherals */
 144:Core/Src/Bootloader.c ****   MX_GPIO_Init();
 145:Core/Src/Bootloader.c ****   MX_CRC_Init();
 146:Core/Src/Bootloader.c ****   MX_USART1_UART_Init();
 147:Core/Src/Bootloader.c ****   MX_TIM2_Init();
 148:Core/Src/Bootloader.c ****   /* USER CODE BEGIN 2 */
 149:Core/Src/Bootloader.c ****   
 150:Core/Src/Bootloader.c ****   CRCValue =HAL_CRC_Calculate(&hcrc, (uint32_t*)App_Adress,( uint32_t ) ROM_LEN_WORD);
 151:Core/Src/Bootloader.c **** 
 152:Core/Src/Bootloader.c ****   
 153:Core/Src/Bootloader.c **** 	  if(HAL_GPIO_ReadPin(GPIOB,GPIO_PIN_12)         ||      //Boutton in toggled during start-up
 154:Core/Src/Bootloader.c **** 
 155:Core/Src/Bootloader.c ****     (test==1)                                      ||      //Bootloader was issued by main app afte
 156:Core/Src/Bootloader.c **** 
 157:Core/Src/Bootloader.c ****     CRCValue != ExpectedCRCValue                   ||      //Invalid Checksum =>Invalid Image
 158:Core/Src/Bootloader.c ****     
 159:Core/Src/Bootloader.c ****     *(volatile uint32_t *)App_Adress==0xFFFF               //no app in memory
 160:Core/Src/Bootloader.c ****   
 161:Core/Src/Bootloader.c ****     )
 162:Core/Src/Bootloader.c ****   
 163:Core/Src/Bootloader.c ****   {
 164:Core/Src/Bootloader.c ****         
 165:Core/Src/Bootloader.c ****       while (1)
 166:Core/Src/Bootloader.c ****       {
 167:Core/Src/Bootloader.c ****     
 168:Core/Src/Bootloader.c **** 		    static int i=0;
 169:Core/Src/Bootloader.c ****         if(i==0){
 170:Core/Src/Bootloader.c **** 		      memory_erase(); //We start by erasing the location of our new app during our first iteratio
 171:Core/Src/Bootloader.c **** 		      i=1;              
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 16


 172:Core/Src/Bootloader.c ****         }
 173:Core/Src/Bootloader.c ****     
 174:Core/Src/Bootloader.c ****         HAL_UART_Receive(&huart1,(uint8_t*)&buffer[0],1,HAL_MAX_DELAY);		
 175:Core/Src/Bootloader.c **** 		    switch(buffer[0])
 176:Core/Src/Bootloader.c **** 		    {
 177:Core/Src/Bootloader.c **** 			    case 0x1:                      //0x1 for Flashing 
 178:Core/Src/Bootloader.c **** 				    Bootloader_flash(buffer);
 179:Core/Src/Bootloader.c **** 				    break;
 180:Core/Src/Bootloader.c **** 			    
 181:Core/Src/Bootloader.c ****           case 0x9:                     //0x9 flashing done
 182:Core/Src/Bootloader.c **** 				    JumpToMain();
 183:Core/Src/Bootloader.c ****             break;
 184:Core/Src/Bootloader.c **** 			  }
 185:Core/Src/Bootloader.c **** 	    }	
 186:Core/Src/Bootloader.c ****   }
 187:Core/Src/Bootloader.c **** 	else 
 188:Core/Src/Bootloader.c ****   {
 189:Core/Src/Bootloader.c ****    JumpToMain();
 190:Core/Src/Bootloader.c ****   }
 191:Core/Src/Bootloader.c **** }
 192:Core/Src/Bootloader.c **** 
 193:Core/Src/Bootloader.c **** /**
 194:Core/Src/Bootloader.c ****   * @brief System Clock Configuration
 195:Core/Src/Bootloader.c ****   * @retval None
 196:Core/Src/Bootloader.c ****   */
 197:Core/Src/Bootloader.c **** void SystemClock_Config(void)
 198:Core/Src/Bootloader.c **** {
 199:Core/Src/Bootloader.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 200:Core/Src/Bootloader.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 201:Core/Src/Bootloader.c **** 
 202:Core/Src/Bootloader.c ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
 203:Core/Src/Bootloader.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 204:Core/Src/Bootloader.c ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 205:Core/Src/Bootloader.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 206:Core/Src/Bootloader.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 207:Core/Src/Bootloader.c ****   {
 208:Core/Src/Bootloader.c ****     Error_Handler();
 209:Core/Src/Bootloader.c ****   }
 210:Core/Src/Bootloader.c ****   /** Initializes the CPU, AHB and APB buses clocks
 211:Core/Src/Bootloader.c ****   */
 212:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 213:Core/Src/Bootloader.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 214:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_HSI;
 215:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 216:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 217:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 218:Core/Src/Bootloader.c **** 
 219:Core/Src/Bootloader.c ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_0) != HAL_OK)
 220:Core/Src/Bootloader.c ****   {
 221:Core/Src/Bootloader.c ****     Error_Handler();
 222:Core/Src/Bootloader.c ****   }
 223:Core/Src/Bootloader.c **** }
 224:Core/Src/Bootloader.c **** 
 225:Core/Src/Bootloader.c **** 
 226:Core/Src/Bootloader.c **** /**
 227:Core/Src/Bootloader.c ****   * @brief  This function is executed in case of error occurrence.
 228:Core/Src/Bootloader.c ****   * @retval None
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 17


 229:Core/Src/Bootloader.c ****   */
 230:Core/Src/Bootloader.c **** void Error_Handler(void)
 231:Core/Src/Bootloader.c **** {
 356              		.loc 1 231 1 is_stmt 1 view -0
 357              		.cfi_startproc
 358              		@ Volatile: function does not return.
 359              		@ args = 0, pretend = 0, frame = 0
 360              		@ frame_needed = 0, uses_anonymous_args = 0
 361              		@ link register save eliminated.
 232:Core/Src/Bootloader.c ****   /* USER CODE BEGIN Error_Handler_Debug */
 233:Core/Src/Bootloader.c ****   /* User can add his own implementation to report the HAL error return state */
 234:Core/Src/Bootloader.c ****   __disable_irq();
 362              		.loc 1 234 3 view .LVU81
 363              	.LBB8:
 364              	.LBI8:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 365              		.loc 2 140 27 view .LVU82
 366              	.LBB9:
 142:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 367              		.loc 2 142 3 view .LVU83
 368              		.syntax unified
 369              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 370 0000 72B6     		cpsid i
 371              	@ 0 "" 2
 372              		.thumb
 373              		.syntax unified
 374              	.L18:
 375              	.LBE9:
 376              	.LBE8:
 235:Core/Src/Bootloader.c ****   while (1)
 377              		.loc 1 235 3 discriminator 1 view .LVU84
 236:Core/Src/Bootloader.c ****   {
 237:Core/Src/Bootloader.c ****   }
 378              		.loc 1 237 3 discriminator 1 view .LVU85
 235:Core/Src/Bootloader.c ****   while (1)
 379              		.loc 1 235 9 discriminator 1 view .LVU86
 380 0002 FEE7     		b	.L18
 381              		.cfi_endproc
 382              	.LFE70:
 384              		.section	.text.SystemClock_Config,"ax",%progbits
 385              		.align	1
 386              		.global	SystemClock_Config
 387              		.syntax unified
 388              		.thumb
 389              		.thumb_func
 390              		.fpu softvfp
 392              	SystemClock_Config:
 393              	.LFB69:
 198:Core/Src/Bootloader.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 394              		.loc 1 198 1 view -0
 395              		.cfi_startproc
 396              		@ args = 0, pretend = 0, frame = 64
 397              		@ frame_needed = 0, uses_anonymous_args = 0
 398 0000 00B5     		push	{lr}
 399              	.LCFI5:
 400              		.cfi_def_cfa_offset 4
 401              		.cfi_offset 14, -4
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 18


 402 0002 91B0     		sub	sp, sp, #68
 403              	.LCFI6:
 404              		.cfi_def_cfa_offset 72
 199:Core/Src/Bootloader.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 405              		.loc 1 199 3 view .LVU88
 199:Core/Src/Bootloader.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 406              		.loc 1 199 22 is_stmt 0 view .LVU89
 407 0004 2822     		movs	r2, #40
 408 0006 0021     		movs	r1, #0
 409 0008 06A8     		add	r0, sp, #24
 410 000a FFF7FEFF 		bl	memset
 411              	.LVL36:
 200:Core/Src/Bootloader.c **** 
 412              		.loc 1 200 3 is_stmt 1 view .LVU90
 200:Core/Src/Bootloader.c **** 
 413              		.loc 1 200 22 is_stmt 0 view .LVU91
 414 000e 0023     		movs	r3, #0
 415 0010 0193     		str	r3, [sp, #4]
 416 0012 0293     		str	r3, [sp, #8]
 417 0014 0393     		str	r3, [sp, #12]
 418 0016 0493     		str	r3, [sp, #16]
 419 0018 0593     		str	r3, [sp, #20]
 202:Core/Src/Bootloader.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 420              		.loc 1 202 3 is_stmt 1 view .LVU92
 202:Core/Src/Bootloader.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 421              		.loc 1 202 36 is_stmt 0 view .LVU93
 422 001a 0223     		movs	r3, #2
 423 001c 0693     		str	r3, [sp, #24]
 203:Core/Src/Bootloader.c ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 424              		.loc 1 203 3 is_stmt 1 view .LVU94
 203:Core/Src/Bootloader.c ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 425              		.loc 1 203 30 is_stmt 0 view .LVU95
 426 001e 0123     		movs	r3, #1
 427 0020 0A93     		str	r3, [sp, #40]
 204:Core/Src/Bootloader.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 428              		.loc 1 204 3 is_stmt 1 view .LVU96
 204:Core/Src/Bootloader.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 429              		.loc 1 204 41 is_stmt 0 view .LVU97
 430 0022 1023     		movs	r3, #16
 431 0024 0B93     		str	r3, [sp, #44]
 205:Core/Src/Bootloader.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 432              		.loc 1 205 3 is_stmt 1 view .LVU98
 206:Core/Src/Bootloader.c ****   {
 433              		.loc 1 206 3 view .LVU99
 206:Core/Src/Bootloader.c ****   {
 434              		.loc 1 206 7 is_stmt 0 view .LVU100
 435 0026 06A8     		add	r0, sp, #24
 436 0028 FFF7FEFF 		bl	HAL_RCC_OscConfig
 437              	.LVL37:
 206:Core/Src/Bootloader.c ****   {
 438              		.loc 1 206 6 view .LVU101
 439 002c 68B9     		cbnz	r0, .L23
 212:Core/Src/Bootloader.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 440              		.loc 1 212 3 is_stmt 1 view .LVU102
 212:Core/Src/Bootloader.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 441              		.loc 1 212 31 is_stmt 0 view .LVU103
 442 002e 0F23     		movs	r3, #15
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 19


 443 0030 0193     		str	r3, [sp, #4]
 214:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 444              		.loc 1 214 3 is_stmt 1 view .LVU104
 214:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 445              		.loc 1 214 34 is_stmt 0 view .LVU105
 446 0032 0021     		movs	r1, #0
 447 0034 0291     		str	r1, [sp, #8]
 215:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 448              		.loc 1 215 3 is_stmt 1 view .LVU106
 215:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 449              		.loc 1 215 35 is_stmt 0 view .LVU107
 450 0036 0391     		str	r1, [sp, #12]
 216:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 451              		.loc 1 216 3 is_stmt 1 view .LVU108
 216:Core/Src/Bootloader.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 452              		.loc 1 216 36 is_stmt 0 view .LVU109
 453 0038 0491     		str	r1, [sp, #16]
 217:Core/Src/Bootloader.c **** 
 454              		.loc 1 217 3 is_stmt 1 view .LVU110
 217:Core/Src/Bootloader.c **** 
 455              		.loc 1 217 36 is_stmt 0 view .LVU111
 456 003a 0591     		str	r1, [sp, #20]
 219:Core/Src/Bootloader.c ****   {
 457              		.loc 1 219 3 is_stmt 1 view .LVU112
 219:Core/Src/Bootloader.c ****   {
 458              		.loc 1 219 7 is_stmt 0 view .LVU113
 459 003c 01A8     		add	r0, sp, #4
 460 003e FFF7FEFF 		bl	HAL_RCC_ClockConfig
 461              	.LVL38:
 219:Core/Src/Bootloader.c ****   {
 462              		.loc 1 219 6 view .LVU114
 463 0042 20B9     		cbnz	r0, .L24
 223:Core/Src/Bootloader.c **** 
 464              		.loc 1 223 1 view .LVU115
 465 0044 11B0     		add	sp, sp, #68
 466              	.LCFI7:
 467              		.cfi_remember_state
 468              		.cfi_def_cfa_offset 4
 469              		@ sp needed
 470 0046 5DF804FB 		ldr	pc, [sp], #4
 471              	.L23:
 472              	.LCFI8:
 473              		.cfi_restore_state
 208:Core/Src/Bootloader.c ****   }
 474              		.loc 1 208 5 is_stmt 1 view .LVU116
 475 004a FFF7FEFF 		bl	Error_Handler
 476              	.LVL39:
 477              	.L24:
 221:Core/Src/Bootloader.c ****   }
 478              		.loc 1 221 5 view .LVU117
 479 004e FFF7FEFF 		bl	Error_Handler
 480              	.LVL40:
 481              		.cfi_endproc
 482              	.LFE69:
 484              		.section	.text.main,"ax",%progbits
 485              		.align	1
 486              		.global	main
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 20


 487              		.syntax unified
 488              		.thumb
 489              		.thumb_func
 490              		.fpu softvfp
 492              	main:
 493              	.LFB68:
 133:Core/Src/Bootloader.c **** 
 494              		.loc 1 133 1 view -0
 495              		.cfi_startproc
 496              		@ args = 0, pretend = 0, frame = 0
 497              		@ frame_needed = 0, uses_anonymous_args = 0
 498 0000 10B5     		push	{r4, lr}
 499              	.LCFI9:
 500              		.cfi_def_cfa_offset 8
 501              		.cfi_offset 4, -8
 502              		.cfi_offset 14, -4
 137:Core/Src/Bootloader.c **** 
 503              		.loc 1 137 3 view .LVU119
 504 0002 FFF7FEFF 		bl	HAL_Init
 505              	.LVL41:
 141:Core/Src/Bootloader.c **** 
 506              		.loc 1 141 3 view .LVU120
 507 0006 FFF7FEFF 		bl	SystemClock_Config
 508              	.LVL42:
 144:Core/Src/Bootloader.c ****   MX_CRC_Init();
 509              		.loc 1 144 3 view .LVU121
 510 000a FFF7FEFF 		bl	MX_GPIO_Init
 511              	.LVL43:
 145:Core/Src/Bootloader.c ****   MX_USART1_UART_Init();
 512              		.loc 1 145 3 view .LVU122
 513 000e FFF7FEFF 		bl	MX_CRC_Init
 514              	.LVL44:
 146:Core/Src/Bootloader.c ****   MX_TIM2_Init();
 515              		.loc 1 146 3 view .LVU123
 516 0012 FFF7FEFF 		bl	MX_USART1_UART_Init
 517              	.LVL45:
 147:Core/Src/Bootloader.c ****   /* USER CODE BEGIN 2 */
 518              		.loc 1 147 3 view .LVU124
 519 0016 FFF7FEFF 		bl	MX_TIM2_Init
 520              	.LVL46:
 150:Core/Src/Bootloader.c **** 
 521              		.loc 1 150 3 view .LVU125
 150:Core/Src/Bootloader.c **** 
 522              		.loc 1 150 13 is_stmt 0 view .LVU126
 523 001a 43F2FF72 		movw	r2, #14335
 524 001e 1F49     		ldr	r1, .L37
 525 0020 1F48     		ldr	r0, .L37+4
 526 0022 FFF7FEFF 		bl	HAL_CRC_Calculate
 527              	.LVL47:
 150:Core/Src/Bootloader.c **** 
 528              		.loc 1 150 12 view .LVU127
 529 0026 1F4B     		ldr	r3, .L37+8
 530 0028 1860     		str	r0, [r3]
 153:Core/Src/Bootloader.c **** 
 531              		.loc 1 153 4 is_stmt 1 view .LVU128
 153:Core/Src/Bootloader.c **** 
 532              		.loc 1 153 7 is_stmt 0 view .LVU129
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 21


 533 002a 4FF48051 		mov	r1, #4096
 534 002e 1E48     		ldr	r0, .L37+12
 535 0030 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 536              	.LVL48:
 153:Core/Src/Bootloader.c **** 
 537              		.loc 1 153 6 view .LVU130
 538 0034 E8B9     		cbnz	r0, .L32
 155:Core/Src/Bootloader.c **** 
 539              		.loc 1 155 10 discriminator 1 view .LVU131
 540 0036 1D4B     		ldr	r3, .L37+16
 541 0038 1B68     		ldr	r3, [r3]
 153:Core/Src/Bootloader.c **** 
 542              		.loc 1 153 51 discriminator 1 view .LVU132
 543 003a 012B     		cmp	r3, #1
 544 003c 19D0     		beq	.L32
 157:Core/Src/Bootloader.c ****     
 545              		.loc 1 157 17 view .LVU133
 546 003e 1C4B     		ldr	r3, .L37+20
 547 0040 D3F8FC2F 		ldr	r2, [r3, #4092]
 157:Core/Src/Bootloader.c ****     
 548              		.loc 1 157 14 view .LVU134
 549 0044 174B     		ldr	r3, .L37+8
 550 0046 1B68     		ldr	r3, [r3]
 155:Core/Src/Bootloader.c **** 
 551              		.loc 1 155 52 view .LVU135
 552 0048 9A42     		cmp	r2, r3
 553 004a 12D1     		bne	.L32
 159:Core/Src/Bootloader.c ****   
 554              		.loc 1 159 5 view .LVU136
 555 004c 134B     		ldr	r3, .L37
 556 004e 1A68     		ldr	r2, [r3]
 157:Core/Src/Bootloader.c ****     
 557              		.loc 1 157 52 view .LVU137
 558 0050 4FF6FF73 		movw	r3, #65535
 559 0054 9A42     		cmp	r2, r3
 560 0056 0CD0     		beq	.L32
 189:Core/Src/Bootloader.c ****   }
 561              		.loc 1 189 4 is_stmt 1 view .LVU138
 562 0058 FFF7FEFF 		bl	JumpToMain
 563              	.LVL49:
 191:Core/Src/Bootloader.c **** 
 564              		.loc 1 191 1 is_stmt 0 view .LVU139
 565 005c 0020     		movs	r0, #0
 566 005e 10BD     		pop	{r4, pc}
 567              	.L36:
 568              	.LBB10:
 170:Core/Src/Bootloader.c **** 		      i=1;              
 569              		.loc 1 170 9 is_stmt 1 view .LVU140
 570 0060 FFF7FEFF 		bl	memory_erase
 571              	.LVL50:
 171:Core/Src/Bootloader.c ****         }
 572              		.loc 1 171 9 view .LVU141
 171:Core/Src/Bootloader.c ****         }
 573              		.loc 1 171 10 is_stmt 0 view .LVU142
 574 0064 134B     		ldr	r3, .L37+24
 575 0066 0122     		movs	r2, #1
 576 0068 1A60     		str	r2, [r3]
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 22


 577 006a 06E0     		b	.L29
 578              	.L30:
 178:Core/Src/Bootloader.c **** 				    break;
 579              		.loc 1 178 9 is_stmt 1 view .LVU143
 580 006c 1248     		ldr	r0, .L37+28
 581 006e FFF7FEFF 		bl	Bootloader_flash
 582              	.LVL51:
 179:Core/Src/Bootloader.c **** 			    
 583              		.loc 1 179 9 view .LVU144
 584              	.L32:
 585              	.LBE10:
 165:Core/Src/Bootloader.c ****       {
 586              		.loc 1 165 7 view .LVU145
 587              	.LBB11:
 168:Core/Src/Bootloader.c ****         if(i==0){
 588              		.loc 1 168 7 view .LVU146
 169:Core/Src/Bootloader.c **** 		      memory_erase(); //We start by erasing the location of our new app during our first iteratio
 589              		.loc 1 169 9 view .LVU147
 169:Core/Src/Bootloader.c **** 		      memory_erase(); //We start by erasing the location of our new app during our first iteratio
 590              		.loc 1 169 13 is_stmt 0 view .LVU148
 591 0072 104B     		ldr	r3, .L37+24
 592 0074 1B68     		ldr	r3, [r3]
 169:Core/Src/Bootloader.c **** 		      memory_erase(); //We start by erasing the location of our new app during our first iteratio
 593              		.loc 1 169 11 view .LVU149
 594 0076 002B     		cmp	r3, #0
 595 0078 F2D0     		beq	.L36
 596              	.L29:
 174:Core/Src/Bootloader.c **** 		    switch(buffer[0])
 597              		.loc 1 174 9 is_stmt 1 view .LVU150
 598 007a 0F4C     		ldr	r4, .L37+28
 599 007c 4FF0FF33 		mov	r3, #-1
 600 0080 0122     		movs	r2, #1
 601 0082 2146     		mov	r1, r4
 602 0084 0D48     		ldr	r0, .L37+32
 603 0086 FFF7FEFF 		bl	HAL_UART_Receive
 604              	.LVL52:
 175:Core/Src/Bootloader.c **** 		    {
 605              		.loc 1 175 7 view .LVU151
 175:Core/Src/Bootloader.c **** 		    {
 606              		.loc 1 175 20 is_stmt 0 view .LVU152
 607 008a 2368     		ldr	r3, [r4]
 175:Core/Src/Bootloader.c **** 		    {
 608              		.loc 1 175 7 view .LVU153
 609 008c 012B     		cmp	r3, #1
 610 008e EDD0     		beq	.L30
 611 0090 092B     		cmp	r3, #9
 612 0092 EED1     		bne	.L32
 182:Core/Src/Bootloader.c ****             break;
 613              		.loc 1 182 9 is_stmt 1 view .LVU154
 614 0094 FFF7FEFF 		bl	JumpToMain
 615              	.LVL53:
 183:Core/Src/Bootloader.c **** 			  }
 616              		.loc 1 183 13 view .LVU155
 617 0098 EBE7     		b	.L32
 618              	.L38:
 619 009a 00BF     		.align	2
 620              	.L37:
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 23


 621 009c 00400008 		.word	134234112
 622 00a0 00000000 		.word	hcrc
 623 00a4 00000000 		.word	.LANCHOR3
 624 00a8 000C0140 		.word	1073810432
 625 00ac 00000000 		.word	.LANCHOR4
 626 00b0 00100108 		.word	134287360
 627 00b4 00000000 		.word	.LANCHOR5
 628 00b8 00000000 		.word	.LANCHOR6
 629 00bc 00000000 		.word	huart1
 630              	.LBE11:
 631              		.cfi_endproc
 632              	.LFE68:
 634              		.global	buffer
 635              		.global	buffer2
 636              		.global	CRCValue
 637              		.global	test
 638              		.section	.bss.CRCValue,"aw",%nobits
 639              		.align	2
 640              		.set	.LANCHOR3,. + 0
 643              	CRCValue:
 644 0000 00000000 		.space	4
 645              		.section	.bss.EraseInitStruct.2,"aw",%nobits
 646              		.align	2
 647              		.set	.LANCHOR0,. + 0
 650              	EraseInitStruct.2:
 651 0000 00000000 		.space	16
 651      00000000 
 651      00000000 
 651      00000000 
 652              		.section	.bss.buffer,"aw",%nobits
 653              		.align	2
 654              		.set	.LANCHOR6,. + 0
 657              	buffer:
 658 0000 00000000 		.space	1200
 658      00000000 
 658      00000000 
 658      00000000 
 658      00000000 
 659              		.section	.bss.buffer2,"aw",%nobits
 660              		.align	2
 661              		.set	.LANCHOR1,. + 0
 664              	buffer2:
 665 0000 00000000 		.space	1200
 665      00000000 
 665      00000000 
 665      00000000 
 665      00000000 
 666              		.section	.bss.i.0,"aw",%nobits
 667              		.align	2
 668              		.set	.LANCHOR5,. + 0
 671              	i.0:
 672 0000 00000000 		.space	4
 673              		.section	.data.mem_address.1,"aw"
 674              		.align	2
 675              		.set	.LANCHOR2,. + 0
 678              	mem_address.1:
 679 0000 00400008 		.word	134234112
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 24


 680              		.section	.noinit,"aw"
 681              		.align	2
 682              		.set	.LANCHOR4,. + 0
 685              	test:
 686 0000 00000000 		.space	4
 687              		.text
 688              	.Letext0:
 689              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 690              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 691              		.file 5 "Drivers/CMSIS/Include/core_cm3.h"
 692              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 693              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 694              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 695              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 696              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 697              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_crc.h"
 698              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_flash_ex.h"
 699              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 700              		.file 14 "Core/Inc/crc.h"
 701              		.file 15 "Core/Inc/usart.h"
 702              		.file 16 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 703              		.file 17 "Core/Inc/gpio.h"
 704              		.file 18 "Core/Inc/tim.h"
 705              		.file 19 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 706              		.file 20 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_flash.h"
 707              		.file 21 "<built-in>"
ARM GAS  C:\Users\T470S\AppData\Local\Temp\ccingwx3.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 Bootloader.c
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:16     .text.memory_erase:00000000 $t
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:24     .text.memory_erase:00000000 memory_erase
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:72     .text.memory_erase:00000028 $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:78     .rodata.Bootloader_flash.str1.4:00000000 $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:85     .text.Bootloader_flash:00000000 $t
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:92     .text.Bootloader_flash:00000000 Bootloader_flash
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:253    .text.Bootloader_flash:000000bc $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:263    .text.JumpToMain:00000000 $t
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:270    .text.JumpToMain:00000000 JumpToMain
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:342    .text.JumpToMain:0000002c $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:347    .text.Error_Handler:00000000 $t
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:354    .text.Error_Handler:00000000 Error_Handler
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:385    .text.SystemClock_Config:00000000 $t
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:392    .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:485    .text.main:00000000 $t
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:492    .text.main:00000000 main
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:621    .text.main:0000009c $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:657    .bss.buffer:00000000 buffer
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:664    .bss.buffer2:00000000 buffer2
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:643    .bss.CRCValue:00000000 CRCValue
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:685    .noinit:00000000 test
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:639    .bss.CRCValue:00000000 $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:646    .bss.EraseInitStruct.2:00000000 $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:650    .bss.EraseInitStruct.2:00000000 EraseInitStruct.2
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:653    .bss.buffer:00000000 $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:660    .bss.buffer2:00000000 $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:667    .bss.i.0:00000000 $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:671    .bss.i.0:00000000 i.0
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:674    .data.mem_address.1:00000000 $d
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:678    .data.mem_address.1:00000000 mem_address.1
C:\Users\T470S\AppData\Local\Temp\ccingwx3.s:681    .noinit:00000000 $d

UNDEFINED SYMBOLS
HAL_FLASH_Unlock
HAL_FLASHEx_Erase
HAL_FLASH_Lock
HAL_UART_Receive
HAL_CRC_Calculate
HAL_UART_Transmit
HAL_FLASH_Program
huart1
hcrc
HAL_RCC_DeInit
HAL_DeInit
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_Init
MX_GPIO_Init
MX_CRC_Init
MX_USART1_UART_Init
MX_TIM2_Init
HAL_GPIO_ReadPin
